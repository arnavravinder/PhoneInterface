<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Phone Keypad</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700&family=Slackey&display=swap">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>
</head>
<body>
    <div class="screen">
        <div class="status-bar">
            <span id="current-time">--:--</span>
            <span id="battery-status">--%</span>
        </div>
        <div class="main-content">
            <div class="number-display">
                <span id="phone-number">+91 12345 67890</span>
            </div>
            <div class="keypad">
                <div class="row">
                    <button class="key" data-number="1">1<br><span>üìû</span></button>
                    <button class="key" data-number="2">2<br><span>ABC</span></button>
                    <button class="key" data-number="3">3<br><span>DEF</span></button>
                </div>
                <div class="row">
                    <button class="key" data-number="4">4<br><span>GHI</span></button>
                    <button class="key" data-number="5">5<br><span>JKL</span></button>
                    <button class="key" data-number="6">6<br><span>MNO</span></button>
                </div>
                <div class="row">
                    <button class="key" data-number="7">7<br><span>PQRS</span></button>
                    <button class="key" data-number="8">8<br><span>TUV</span></button>
                    <button class="key" data-number="9">9<br><span>WXYZ</span></button>
                </div>
                <div class="row">
                    <button class="key" data-number="*">*</button>
                    <button class="key" data-number="0">0<br><span>+</span></button>
                    <button class="key" data-number="#">#</button>
                </div>
            </div>
        </div>
        <div class="navigation-bar">
            <button id="call-button">üìû</button>
            <button id="delete-button">üóëÔ∏è</button>
        </div>
    </div>
    <script>
        VanillaTilt.init(document.querySelectorAll(".screen"), {
            max: 25,
            speed: 400,
            glare: true,
            "max-glare": 0.5,
        });

        // Live time update
        function updateTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('current-time').textContent = `${hours}:${minutes}`;
        }
        setInterval(updateTime, 1000);
        updateTime();

        // Battery Status API
        navigator.getBattery().then(function(battery) {
            function updateBatteryStatus() {
                document.getElementById('battery-status').textContent = `${Math.round(battery.level * 100)}%`;
            }
            battery.addEventListener('levelchange', updateBatteryStatus);
            updateBatteryStatus();
        });

        const phoneNumberElement = document.getElementById('phone-number');
        const keys = document.querySelectorAll('.key');
        const deleteButton = document.getElementById('delete-button');

        keys.forEach(key => {
            key.addEventListener('click', () => {
                const number = key.getAttribute('data-number');
                let currentText = phoneNumberElement.textContent.replace(/\s/g, '');
                if (currentText.length < 15) { // Limit to +91 12345 67890 format
                    if (currentText.length === 3 || currentText.length === 9) {
                        phoneNumberElement.textContent += ' ';
                    }
                    phoneNumberElement.textContent += number;
                }
            });
        });

        deleteButton.addEventListener('click', () => {
            let currentText = phoneNumberElement.textContent;
            if (currentText.endsWith(' ')) {
                phoneNumberElement.textContent = currentText.slice(0, -1);
            } else {
                phoneNumberElement.textContent = currentText.slice(0, -1);
            }
        });
    </script>
</body>
</html>
